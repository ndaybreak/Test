<html lang='en'>
<head>
   

    <title>MetricsGraphics.js - Examples</title>
    <link href='../dist/bootstrap.min.css' rel='stylesheet' type='text/css'>

    <link href='../dist/metricsgraphics.css' rel='stylesheet' type='text/css'>
    <link href='css/metricsgraphics-demo.css' rel='stylesheet' type='text/css' id='light'>
    <!-- <link href='' rel='stylesheet' type='text/css' id='dark'>
    <link href='css/highlightjs-default.css' rel='stylesheet' type='text/css' id='light-code'>
    <link href='' rel='stylesheet' type='text/css' id='dark-code'> -->

    <!-- <script src='js/lib/highlight.pack.js'></script> -->
    <script src='../dist/jquery-1.11.2.js'></script>
    <script src='../dist/d3.min.js' charset='utf-8'></script>

    <!-- dev start -->
   <script src='../dist/metricsgraphics.js'></script>
    <script src='../src/js/common/bootstrap_tooltip_popover.js'></script>
    
   <!--  <script src='../src/js/MG.js'></script>
    <script src='../src/js/common/data_graphic.js'></script>
    <script src='../src/js/common/hooks.js'></script>
    <script src='../src/js/common/register.js'></script>
    <script src='../src/js/common/bootstrap_tooltip_popover.js'></script>
    <script src='../src/js/common/chart_title.js'></script>
    <script src='../src/js/common/y_axis.js'></script>
    <script src='../src/js/common/x_axis.js'></script>
    <script src='../src/js/common/init.js'></script>
    <script src='../src/js/common/markers.js'></script>
    <script src='../src/js/common/window_listeners.js'></script>
    <script src='../src/js/layout/bootstrap_dropdown.js'></script>
    <script src='../src/js/layout/button.js'></script>
    <script src='../src/js/charts/line.js'></script>
    <script src='../src/js/charts/histogram.js'></script>
    <script src='../src/js/charts/point.js'></script>
    <script src='../src/js/charts/bar.js'></script>
    <script src='../src/js/charts/table.js'></script>
    <script src='../src/js/charts/missing.js'></script>
    <script src='../src/js/misc/process.js'></script>
    <script src='../src/js/misc/smoothers.js'></script>
    <script src='../src/js/misc/formatters.js'></script>
    <script src='../src/js/misc/transitions.js'></script>
    <script src='../src/js/misc/utility.js'></script>
    <script src='../src/js/misc/error.js'></script>  -->
    <!-- dev end -->


</head>

<body>
	<div class='col-lg-7 text-center' id='singleton' style="margin-top: 50px;"></div>
	<div class='col-lg-7 text-center' id='split_by' style="margin-top: 50px;"></div>
	<div class='col-lg-7 text-center' id='aspect1' style="margin-top: 50px;"></div>
	<div class='col-lg-7 text-center' id='fake_users2' style="margin-top: 50px;"></div>
	<div class="col-lg-7 text-center legend"></div>
	
	<div  id='downloads' ></div>
	<button id="bt"> change </button>
	<script>
		/* MG.data_graphic({
			title : "Singleton",
			description : "Handling a solitary data point.",
			data : [ {
				'date' : new Date('2015-03-05'),
				'value' : 12000
			}, {
				'date' : new Date('2015-03-06'),
				'value' : 18000
			}, {
				'date' : new Date('2015-03-07'),
				'value' : 32000
			} ],
			width : 600,
			height : 200,
			right : 40,
			target : '#singleton'
		});
		//--------------
		var globals = {};
		var split_by_params = {
		    title: "Downloads by Channel",
		    description: "We sometimes have the need to split the data and then gracefully update the graphic with the newly selected subset of data.",
		    width: 600,
		    height: 200,
		    right: 40,
		    xax_count: 4,
		    target: '#split_by',
		    x_accessor: 'date',
		    y_accessor: 'release'
		};
		d3.json('data/split_by.json', function(data) {
		    data = MG.convert.date(data, 'date');
		    globals.data = data;
		
		    split_by_params.data = data;
		    MG.data_graphic(split_by_params);
		
		    //modify_time_period_params.data = data;
		    //MG.data_graphic(modify_time_period_params);
		});	
		//--------------
		d3.json('data/fake_users3.json', function(data) {
		    for(var i = 0; i < data.length; i++) {
		        data[i] = MG.convert.date(data[i], 'date');
		    }
		
		    MG.data_graphic({
		        title: "Preserving the aspect ratio",
		        description: "You can automatically set the width or height of a data graphic to fit its parent element. When done the graphic will rescale to fit the size of the parent element while preserving its aspect ratio.",
		        data: data,
		        full_width: true,
		        height: 300,
		        right: 40,
		        x_extended_ticks: true,
		        target: '#aspect1',
		        x_accessor: 'date',
		        y_accessor: 'value'
		    });
	    }); */
	    //--------------
	    var oraginal = {};
	    d3.json('data/fake_users2.json', function(data) {
		        for (var i = 0; i < data.length; i++) {
		        data[i] = MG.convert.date(data[i], 'date','%Y-%m');
		    }
			//data = MG.convert.date(data, 'date','%Y-%m');
			oraginal = data;
		    MG.data_graphic({
		        title: "Multi-Line Chart",
		        description: "This line chart contains multiple lines.",
		        data: data,
		        width: 600,
		        height: 200,
		        right: 40,
		        target: '#fake_users2',
		        x_accessor: 'date',
		        y_accessor: 'mean'
		        //legend: ['Line 1','Line 2','Line 3','Line 4','Line 5','Line 6','Line 7','Line 8']
		        //legend_target: '#fake_users2'
		    });
		});
		
		$(document).on('click','#bt',function(){
			MG.data_graphic({
		        title: "Multi-Line Chart",
		        description: "This line chart contains multiple lines.",
		        data: oraginal,
		        width: 600,
		        height: 200,
		        right: 40,
		        target: '#fake_users2',
		        x_accessor: 'date',
		        y_accessor: 'median'
		        //legend: ['Line 1','Line 2','Line 3','Line 4','Line 5','Line 6','Line 7','Line 8']
		        //legend_target: '#fake_users2'
		    });
		});
		
		
		
	</script>
</body>
</html>
